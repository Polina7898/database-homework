# Отчет по нормализации базы данных

**Выполнила:** Кузнецова Полина

## Исходные данные и проблемы

Изначально у нас есть два набора данных: клиенты и их транзакции. Если попытаться объединить все в одну большую таблицу, то получится много дублирующейся информации. Например, для каждой покупки одного и того же товара будет повторяться его бренд, цена, размер и т.д. А если один клиент совершит 10 покупок, то 10 раз повторится его адрес, дата рождения и другая личная информация.

Это неудобно и приводит к проблемам:

*   **Аномалия обновления:** если клиент переедет, придется менять его адрес во всех строках с его покупками, и можно где-то ошибиться.
*   **Аномалия удаления:** если удалить единственную покупку какого-то товара, то мы потеряем всю информацию об этом товаре.
*   **Аномалия вставки:** нельзя добавить в базу новый товар, пока его никто не купил.

Чтобы решить эти проблемы, я провела нормализацию базы данных.

## Процесс нормализации до 3НФ

### Шаг 1: Приведение к 1НФ

Первая нормальная форма (1НФ) уже соблюдается, так как в таблицах нет полей с несколькими значениями и есть первичные ключи (`customer_id` и `transaction_id`).

### Шаг 2: Приведение ко 2НФ

Чтобы привести данные ко второй нормальной форме (2НФ), нужно избавиться от частичных зависимостей. В таблице транзакций информация о товаре (бренд, цена и т.д.) зависит только от `product_id`, а не от ключа транзакции. 

**Что я сделала:**

Я вынесла всю информацию о товарах в отдельную таблицу `products`. Теперь в таблице `transactions` осталась только ссылка на товар (`product_id`).

*   **`products`** (product_id, brand, product_line, list_price, ...)
*   **`transactions`** (transaction_id, product_id, customer_id, ...)

### Шаг 3: Приведение к 3НФ

Третья нормальная форма (3НФ) требует убрать транзитивные зависимости. В таблице с клиентами я заметила, что штат (`state`) и страна (`country`) зависят от почтового индекса (`postcode`), а не от клиента напрямую. 

**Что я сделала:**

Я создала отдельную таблицу `locations`, где каждому почтовому индексу соответствуют свой город и страна. В таблице `customers` теперь есть только ссылка на `location_id`.

*   **`locations`** (location_id, postcode, state, country)
*   **`customers`** (customer_id, first_name, ..., address, location_id)

## Итог

В результате получилась структура из четырех таблиц, которая соответствует 3НФ. Это решает исходные проблемы с избыточностью данных и аномалиями.
